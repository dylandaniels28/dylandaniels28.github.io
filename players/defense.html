<!DOCTYPE html>
<html>
<head>

    <link rel="stylesheet" href="../css/style.css">
    <title>AFF</title>
</head>

<body>
    <div class="header">
        <div class = "title">
            <span class = "highlight">A</span><span class = "lowlight">FF</span>
        </div>
        <div class="header-right">
          <a class="active" href="../index.html">Home</a>
          <a href="../teams.html">Teams</a>
          <a href="../players.html">Players</a>
        </div>
      </div>
      <div id="container">
        <table>
          <thead>
            <tr>
              <th>Team</th>
              <th>Points Allowed</th>
              <th>Touchdowns</th>
              <th>Solo Tackles</th>
              <th>Assisted Tackles</th>
              <th>Tackles For Loss</th>
              <th>Sacks</th>
              <th>QB Hits</th>
              <th>Passes Defended</th>
              <th>Forced Fumbles</th>
              <th>Fumbles Recovered</th>
              <th>Interceptions</th>
              <th>Safeties</th>
              <th>Fantasy Points</th>
              

            </tr>
          </thead>
          <tbody>

          </tbody>
        </table> 
      </div>
      <script>
        fetch('https://api.sportsdata.io/v3/nfl/stats/json/FantasyDefenseBySeason/2022?key=d8c6c00d33584eb886a3702eef9c510c')
        .then(res => {
          return res.json();
        } )
        .then(data => {
          data.sort((a, b) => a.Team.localeCompare(b.Team));
          

          const tableBody = document.querySelector('tbody');

          data.forEach(item => {
            const row = document.createElement('tr');
            row.innerHTML = `
            <td>${item.Team}</td>
            <td>${item.PointsAllowed}</td>
            <td>${item.TouchdownsScored}</td>
            <td>${item.SoloTackles}</td>
            <td>${item.AssistedTackles}</td>
            <td>${item.TacklesForLoss}</td>
            <td>${item.Sacks}</td>
            <td>${item.QuarterbackHits}</td>
            <td>${item.PassesDefended}</td>
            <td>${item.FumblesForced}</td>
            <td>${item.FumblesRecovered}</td>
            <td>${item.Interceptions}</td>
            <td>${item.Safeties}</td>
            <td>${item.FantasyPoints}</td>
            `;
            tableBody.appendChild(row);
            });

            const table = document.querySelector('table');
    const container = document.querySelector('#container');
    container.appendChild(table);
  })
  .catch(error => {
    console.error(error);
  });
      </script>
</body>

</html>